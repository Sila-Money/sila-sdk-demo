// Form adjustments

// Rows
.form-row {
  margin-right: -10px;
  margin-left: -10px;
}

.form-row>.col,
.form-row>[class*="col-"] {
  padding-right: 10px;
  padding-left: 10px;
}

// group
.form-group {
  position: relative;
  margin-bottom: 1rem;

  input[type="text"].form-control,
  input[type="search"].form-control,
  input[type="url"].form-control,
  input[type="email"].form-control {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  &.required::before {
    content: '*';
    position: absolute;
    top: $input-padding-y;
    right: $input-padding-x;
    color: $warning;
    font-size: $font-size-lg;
    line-height: 0;
    z-index: 5;
  }

  &.required:not([class*="col"])::before {
    margin-right: -10px;
  }
}

// Custom controls
.custom-control-label {
  color: $gray-light;
}

// Field
.form-control {
  box-shadow: none !important;
  height: auto;
  position: relative;
  z-index: 3;

  &::-ms-clear,
  &::-ms-expand {
    display: none;
  }

  &[readonly] {
    border-color: $input-border-color-disabled;
  }

  &:focus {
    &[readonly] {
      border-color: $input-border-color-disabled;
    }

    z-index: 4;
  }

  &[plaintext] {
    padding-bottom: 0;
  }

}

// select
select {

  &.form-control {
    background-repeat: no-repeat;
    background-position: center right $input-padding-x;
    background-image: url("data:image/svg+xml,%3Csvg width='19' height='7' viewBox='0 0 19 7' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M10.1781 6.81418L18.7195 1.09697C19.0935 0.846099 19.0935 0.439653 18.7195 0.188151C18.3456 -0.0627163 17.7381 -0.0627163 17.3642 0.188152L9.50047 5.45189L1.63679 0.188786C1.26282 -0.0620819 0.655392 -0.0620818 0.280477 0.188786C-0.0934926 0.439654 -0.0934926 0.846733 0.280477 1.0976L8.82181 6.81482C9.19191 7.06183 9.80888 7.06183 10.1781 6.81418Z' fill='%23CFD4D9'/%3E %3C/svg%3E");
    padding-right: $input-padding-x * 2;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    &:focus:not(.readonly),
    &.focused:not(.readonly) & {
      background-image: url("data:image/svg+xml,%3Csvg width='19' height='7' viewBox='0 0 19 7' fill='{$primary}' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M10.1781 6.81418L18.7195 1.09697C19.0935 0.846099 19.0935 0.439653 18.7195 0.188151C18.3456 -0.0627163 17.7381 -0.0627163 17.3642 0.188152L9.50047 5.45189L1.63679 0.188786C1.26282 -0.0620819 0.655392 -0.0620818 0.280477 0.188786C-0.0934926 0.439654 -0.0934926 0.846733 0.280477 1.0976L8.82181 6.81482C9.19191 7.06183 9.80888 7.06183 10.1781 6.81418Z' fill='%233F63F7'/%3E %3C/svg%3E");
    }
  }

}

// Border color
.custom-control-label::before,
.custom-file-label,
.custom-select,
.custom-checkbox .custom-control-input:checked~.custom-control-label::before {
  background: $white;
  border-color: $border-color;
}

// Checkbox
.custom-checkbox .custom-control-input:checked~.custom-control-label {
  &::before {
    background: $white;
  }

  &::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%233F63F7' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e");
  }
}

// Radio
.radio {
  label {
    margin: 0 18px;
    color: $body-color;
  }

  .input-group {
    width: auto;

    input {
      width: 18px !important;
      height: 18px;
    }
  }
}

// Switch
.custom-switch .custom-control-input:checked~.custom-control-label::before {
  background: $success;
  border-color: $success;
}

// Disabled
.form-control:disabled,
.form-control[readonly] {
  background-color: $white;
}

// Numbers
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

// Date
.form-control[type="date"]:before {
  content: attr(placeholder) !important;
  color: $gray-light;
  margin-right: 0.5em;
}

.form-control[type="date"]:focus:before,
.form-control[type="date"]:valid:before {
  display: none;
}

.form-control[type="date"]:invalid::-webkit-datetime-edit {
  color: $gray-light;
}

// Numbers
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

// Select
select.form-control option[value=""] {
  color: $gray-light;
}

// Border color
.custom-control-label::before,
.custom-file-label,
.custom-select,
.custom-checkbox .custom-control-input:checked~.custom-control-label::before {
  border-color: $border-color;
}

// Disabled
.form-control:disabled,
.form-control[readonly] {
  background: $white;
}

// Errors
.was-validated .form-control:invalid,
.form-control.is-invalid,
.was-validated .form-control:valid,
.form-control.is-valid {
  background-image: none;
  padding-right: $input-btn-padding-x;
}

.was-validated .form-control:valid:not(.is-invalid),
.form-control.is-valid,
.was-validated .form-control:valid:not(.is-invalid):focus,
.form-control.is-valid:focus {
  border-color: $border-color;
}

.was-validated .form-control:focus:valid:not(.is-invalid),
.form-control.is-valid,
.was-validated .form-control:focus:valid:not(.is-invalid):focus,
.form-control.is-valid:focus {
  border-color: $primary;
}

.was-validated .form-control:invalid,
.was-validated .form-control.is-invalid,
.form-control:focus.is-invalid,
.form-control.is-invalid,
.form-control.is-invalid:focus,
.was-validated .form-control:valid.is-invalid {
  border-color: $danger;
}

.was-validated .custom-control-input:valid~.custom-control-label::before,
.was-validated .custom-control-input:valid:checked~.custom-control-label::before,
.was-validated .custom-control-input:valid:focus~.custom-control-label::before {
  border-color: $border-color;
  background-color: transparent;
  outline: none;
  box-shadow: none;
}

.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before {
  border-color: $primary;
}

.custom-control-input:checked~.custom-control-label::before {
  border-color: $success;
  background-color: $success;
  box-shadow: $box-shadow;
}

.custom-control-input~.custom-control-label::before,
.custom-control-input:focus:not(:checked)~.custom-control-label::before {
  border-color: $warning;
  background-color: $warning;
  box-shadow: $box-shadow;
}

.custom-switch .custom-control-label::after {
  background-color: $white;
}

.custom-control-input[type=radio]:checked~.custom-control-label::before {
  border-color: $primary;
  background-color: $primary;
}

.custom-control-input[type=radio]:not(:checked)~.custom-control-label::after,
.custom-control-input[type=radio]:not(:checked)~.custom-control-label::before {
  border-color: $primary;
  background-color: transparent;
}